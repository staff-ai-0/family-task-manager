{
  "instructions": [
    ".github/copilot-instructions.md"
  ],
  "commands": {
    "init": {
      "description": "Initialize project structure and dependencies",
      "steps": [
        "docker-compose up -d",
        "docker exec family_app_backend alembic upgrade head",
        "docker exec family_app_backend python /app/seed_data.py"
      ]
    },
    "test": {
      "description": "Run full test suite with coverage",
      "steps": [
        "docker exec -e PYTHONPATH=/app family_app_backend pytest tests/ -v --cov=app --cov-report=term --cov-report=html"
      ]
    },
    "test:quick": {
      "description": "Run tests without coverage report",
      "steps": [
        "docker exec -e PYTHONPATH=/app family_app_backend pytest tests/ -v"
      ]
    },
    "build": {
      "description": "Rebuild and restart all services",
      "steps": [
        "docker-compose down",
        "docker-compose up -d --build"
      ]
    },
    "migrate": {
      "description": "Run database migrations",
      "steps": [
        "docker exec family_app_backend alembic upgrade head"
      ]
    },
    "migrate:create": {
      "description": "Create new database migration",
      "steps": [
        "docker exec family_app_backend alembic revision --autogenerate -m \"$1\""
      ]
    },
    "seed": {
      "description": "Seed database with demo data",
      "steps": [
        "docker exec family_app_backend python /app/seed_data.py"
      ]
    },
    "logs": {
      "description": "View service logs",
      "steps": [
        "docker-compose logs -f backend"
      ]
    },
    "db": {
      "description": "Connect to production database",
      "steps": [
        "docker exec -it family_app_db psql -U familyapp -d familyapp"
      ]
    },
    "db:test": {
      "description": "Connect to test database",
      "steps": [
        "docker exec -it family_app_test_db psql -U familyapp_test -d familyapp_test"
      ]
    },
    "redis": {
      "description": "Connect to Redis CLI",
      "steps": [
        "docker exec -it family_app_redis redis-cli"
      ]
    }
  },
  "context": {
    "architecture": "multi-tenant",
    "patterns": ["clean-architecture", "ddd", "cqrs", "event-sourcing"],
    "testingFramework": "pytest",
    "coverageTarget": 70
  }
}
