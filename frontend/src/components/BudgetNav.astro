---
/**
 * BudgetNav - Horizontal tab bar for navigating between budget sections
 * Used on all budget pages below the header
 */

interface Props {
    active: "month" | "accounts" | "categories" | "transactions" | "reports";
    year?: number;
    month?: number;
}

const { active, year, month } = Astro.props;

const now = new Date();
const y = year ?? now.getFullYear();
const m = month ?? now.getMonth() + 1;

const tabs = [
    {
        id: "month",
        label: "Mes",
        href: `/parent/finances/month/${y}/${m}`,
        icon: "M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",
    },
    {
        id: "accounts",
        label: "Cuentas",
        href: "/parent/finances/accounts",
        icon: "M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z",
    },
    {
        id: "categories",
        label: "Categor√≠as",
        href: "/parent/finances/categories",
        icon: "M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",
    },
    {
        id: "transactions",
        label: "Movimientos",
        href: "/parent/finances/transactions",
        icon: "M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",
    },
    {
        id: "reports",
        label: "Reportes",
        href: "/parent/finances/reports/spending",
        icon: "M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",
    },
] as const;
---

<div class="bg-white border-b border-slate-200 shadow-sm sticky top-0 z-10">
    <div class="w-full max-w-md md:max-w-4xl lg:max-w-6xl mx-auto">
        <nav class="flex overflow-x-auto scrollbar-hide">
            {tabs.map(tab => (
                <a
                    href={tab.href}
                    class={`flex flex-col items-center gap-1 px-4 py-3 text-xs font-semibold whitespace-nowrap border-b-2 transition-colors flex-1 min-w-[72px] ${
                        active === tab.id
                            ? "border-primary-600 text-primary-600"
                            : "border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300"
                    }`}
                >
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={tab.icon} />
                    </svg>
                    {tab.label}
                </a>
            ))}
        </nav>
    </div>
</div>

<style>
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
</style>
